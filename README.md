<p align="center">
  <img src="https://img.icons8.com/clouds/500/bank-card-back-side.png" alt="bank operations logo" width="160"/>
</p>

<h1 align="center">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h1>

<p align="center">
  <strong>–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</strong><br>
  <em>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è, –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ —Å 100% –ø–æ–∫—Ä—ã—Ç–∏–µ–º —Ç–µ—Å—Ç–∞–º–∏</em>
</p>

<p align="center">
  <a href="https://www.python.org/"><img src="https://img.shields.io/badge/Python-3.12+-blue.svg" alt="Python"></a>
  <a href="https://python-poetry.org/"><img src="https://img.shields.io/badge/Poetry-1.8+-orange.svg" alt="Poetry"></a>
  <img src="https://img.shields.io/badge/Coverage-100%25-brightgreen.svg" alt="Coverage">
</p>

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/Enigmatik007/bank_operations
cd bank_operations
poetry install
```

---

## üß∞ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

### üîç `generators.py` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

- `filter_by_currency(transactions, currency)` ‚Äî —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–µ.
- `transaction_descriptions(transactions)` ‚Äî –æ–ø–∏—Å–∞–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.
- `card_number_generator(start, end)` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–æ–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `XXXX XXXX XXXX XXXX`.

### üîê `masks.py` ‚Äî –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- `get_mask_card_number(card_number)` ‚Äî –º–∞—Å–∫–∏—Ä—É–µ—Ç –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã: `7000 79** **** 6361`.
- `get_mask_account(account_number)` ‚Äî –º–∞—Å–∫–∏—Ä—É–µ—Ç —Å—á—ë—Ç: `**4305`.

### üßÆ `processing.py` ‚Äî –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

- `filter_by_state(operations, state)` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É (`EXECUTED`, `PENDING` –∏ —Ç.–¥.).
- `sort_by_date(operations, reverse=True)` ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ.

### üß± `widget.py` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- `mask_account_card(data)` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã –∏–ª–∏ —Å—á—ë—Ç–∞.
- `get_date(date_str)` ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞—Ç—É –∏–∑ ISO –≤ —Ñ–æ—Ä–º–∞—Ç `–î–î.–ú–ú.–ì–ì–ì–ì`.


### üìä –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö (utils.py)

```python
  
def load_transactions(file_path: str) -> list[dict]  # –ó–∞–≥—Ä—É–∑–∫–∞ JSON-—Ñ–∞–π–ª–∞

```

### üåê –í–Ω–µ—à–Ω–∏–µ API (external_api.py)

```python
  
def convert_to_rub(transaction: dict) -> float | None  # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ RUB —á–µ—Ä–µ–∑ API

```

### üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (decorators.py)

- `@log(filename=None)` ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π:
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª –ø—Ä–∏ —É–∫–∞–∑–∞–Ω–∏–∏ `filename`
  - –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å, –µ—Å–ª–∏ `filename` –Ω–µ —É–∫–∞–∑–∞–Ω
  - –§–∏–∫—Å–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–∑–æ–≤–æ–≤
  - –ó–∞–ø–∏—Å—å –æ—à–∏–±–æ–∫ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
from src.generators import filter_by_currency, card_number_generator
from src.widget import mask_account_card, get_date

usd_ops = filter_by_currency(transactions, "USD")
print(next(usd_ops))

for num in card_number_generator(1, 3):
    print(num)  # 0000 0000 0000 0001 ...

print(mask_account_card("Visa 7000792289606361"))  # Visa 7000 79** **** 6361
print(get_date("2024-03-11T02:26:18.671407"))  # 11.03.2024
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (100%)

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è:

```bash
poetry run pytest --cov=src --cov-report=html
start htmlcov/index.html  # –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç—á–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Windows)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ __init__.py             # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ conftest.py             # –û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã:
‚îÇ                           # - sample_transactions
‚îÇ                           # - card_and_account_data
‚îÇ                           # - mock_api
‚îú‚îÄ‚îÄ test_decorators.py      # –¢–µ—Å—Ç—ã –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ @log
‚îú‚îÄ‚îÄ test_external_api.py    # –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º API
‚îú‚îÄ‚îÄ test_generators.py      # –¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
‚îú‚îÄ‚îÄ test_masks.py           # –¢–µ—Å—Ç—ã –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ (–≤–∞–ª–∏–¥–Ω—ã–µ/–æ—à–∏–±–æ—á–Ω—ã–µ —Å–ª—É—á–∞–∏)
‚îú‚îÄ‚îÄ test_processing.py      # –¢–µ—Å—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ test_utils.py           # –¢–µ—Å—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ test_widget.py          # –¢–µ—Å—Ç—ã –≤–∏–¥–∂–µ—Ç–∞ (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ + –¥–∞—Ç—ã)
```

–í—Å–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã—Ç—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏–µ–π –∏ —Å–Ω–∞–±–∂–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏.

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞

```bash
poetry run flake8 src/
poetry run black src/
poetry run isort src/
```

---

---

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Python 3.12+
- üß† –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üåÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤
- üîí –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üíØ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ = 100%
- üß™ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ —Ñ–∏–∫—Å—Ç—É—Ä—ã
- üì¶ Poetry –∫–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---